
<div class="mod-reset d-flex flex-column">
    <div class="mod-reset-header w-100">
      <app-haeder></app-haeder>
    </div>
    <h4 *ngIf='status==1' class="text-center text-danger">Account not registered or disabled. Please register or contact Administrators</h4>
    <h4 *ngIf='status==2' class="text-center text-primary">This password matches your old password. Please sign in instead</h4>
    <h4 *ngIf='status==3' class="text-center text-danger">Could not change password</h4>
    <div class="mod-reset-form">
        <h3 class="text-center">Reset Password</h3>
        <h4 *ngIf='available==false' class="text-center text-danger">Link expired</h4>
        <form *ngIf='available==true && status==-1' [formGroup]="dataform" (ngSubmit)="updatePassword(dataform.value)">
          <!-- new password -->
          <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control"
            [ngClass]="{'is-invalid':dataform.get('password').touched && dataform.get('password').invalid}"
            formControlName="password" placeholder="Password..." /><span>(*)</span>
            <div class="invalid-feedback" *ngIf="dataform.get('password').touched && dataform.get('password').invalid">
              <small *ngIf="dataform.get('password').errors.required" class="form-text  showError">Password is required</small>
              <small *ngIf="dataform.get('password').errors.minlength" class="form-text  showError">Password must be at least 6
                characters</small>
            </div>
          </div>
          <!-- confirm new password -->
          <div class="form-group">
            <label for="exampleInputPassword1">Confirm Password</label>
            <input type="password" class="form-control"
              [ngClass]="{'is-invalid':dataform.get('confirmpassword').touched && dataform.get('confirmpassword').invalid}"
              formControlName="confirmpassword" placeholder="Confirm Password..."> <span>(*)</span>
            <div class="invalid-feedback"
              *ngIf="dataform.get('confirmpassword').touched  && dataform.get('password').dirty && dataform.get('confirmpassword').invalid">
              <small *ngIf="dataform.get('confirmpassword').errors.required" class="form-text  showError">Type your password again </small>
              <small *ngIf="dataform.controls['confirmpassword'].errors.passwordNotMatch"
                class="form-text showError">Passwords must match</small>
            </div>
          </div>
          <div class="form-group">
            <button type="submit" class=" form-control btn btn-primary" [disabled]="dataform.status==='INVALID'">Reset Password</button>
          </div>
        </form>
    </div>
    <h4 *ngIf='status==0' class="text-center text-success">Password has been reset. Please sign in</h4>
    <div class="mod-reset-footer">
        <app-footer></app-footer>
    </div>
</div>
<router-outlet></router-outlet>

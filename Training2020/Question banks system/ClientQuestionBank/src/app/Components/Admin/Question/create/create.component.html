 <div class="mod-createQuestion">
   <h2 class="text-center"> Create Question </h2>
   <hr/>
  <div class="mod-createQuestion-content px-4">
    <form class="row" [formGroup]="dataForm" (ngSubmit)="onSubmit(dataForm.value)">
      <div class="col-lg-6 col-12">
        <div class="form-group">
          <label >Question ?</label><br/>
            <textarea type="text" formControlName="question" cols="60" rows="4"
            [ngClass]="{'is-invalid':dataForm.get('question').touched && dataForm.get('question').invalid}"
            ></textarea><span>(*)</span>
            <div class="invalid-feedback" *ngIf="dataForm.get('question').touched && dataForm.get('question').invalid">
              <small *ngIf="dataForm.get('question').errors.required" class="form-text  showError">Enter your Question</small>

            </div>
        </div>

        <div class="form-group" formArrayName="answer">
          <label  >Answer</label>
          <div *ngFor="let list_item of answer.controls;  let i=index" [formGroupName]="i" class="panel panel-default">
            {{i + 1}}.) <input type="text" formControlName='name'  class="form-control w-75"
            [ngClass]="{'is-invalid':dataForm.get('answer')['controls'][i].touched && dataForm.get('answer')['controls'][i].invalid}"
            /><span>(*)</span>
            <div class="invalid-feedback" *ngIf="dataForm.get('answer')['controls'][i].touched && dataForm.get('answer')['controls'][i].invalid">
              <small [hidden]="dataForm.get('answer')['controls'][i].errors?.required" class="form-text  showError">Enter your Answer</small>
            </div>

            </div>
        </div>
        <div class="form-group d-flex">
          <a class="form-control btn btn-primary" (click)="addAnswer(true)">+</a>
          <a class="form-control btn btn-danger" (click)="addAnswer(false)">-</a>
        </div>

      </div>
      <div class="col-lg-6 col-12">
        <div class="form-group" >
          <label >True Answer</label>
            <select class="form-control" formControlName="trueAnswer" formArrayName="answer"
            [ngClass]="{'is-invalid':dataForm.get('trueAnswer').touched && dataForm.get('trueAnswer').invalid}"
            >

              <option *ngFor="let list_item of answer.controls;  let i=index"  [formGroupName]="i" [ngValue]="list_item.get('name').value">
                {{list_item.get('name').value}}
              </option>
            </select> <span class="mb-5">(*)</span>
            <div class="invalid-feedback" *ngIf="dataForm.get('trueAnswer').touched && dataForm.get('trueAnswer').invalid">
              <small *ngIf="dataForm.get('trueAnswer').errors.required" class="form-text showError">Choose your true Answer </small>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6 d-flex ">

              <div class="form-group w-100 ">
                <label >Theme</label>
                <select  class="form-control "  formControlName="themeName"[ngClass]="{'is-invalid':dataForm.get('themeName').touched && dataForm.get('themeName').invalid}" >

                  <option *ngFor="let item of themes"  [value]="item"  >{{item}}</option>
                </select><span>(*)</span>
                <div class="invalid-feedback" *ngIf="dataForm.get('themeName').touched && dataForm.get('themeName').invalid">
                  <small *ngIf="dataForm.get('themeName').errors.required" class="form-text showError">Choose your theme Name </small>
                </div>

              </div>
              <div class="form-group " [ngClass]='hiden==true?"d-block":"d-none"'>
                <label >New Theme</label>
                <input type="text"  [value]="newTheme" (change)="modelChangeFn($event)"  class="form-control" >
              </div>
              <div class="nav-item dropdown">
                <a  title="new theme" class="nav-link"  id="navbarDropdown" role="button" data-toggle="dropdown"  >
                  <i class="eva eva-more-vertical-outline    "></i>
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" (click)="openNewTheme()">{{hiden==true?"close":" other theme"}}</a>

                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group ">
                <label >Point</label>
                <input type="text" formControlName="point"  class="form-control"
                [ngClass]="{'is-invalid':dataForm.get('point').touched && dataForm.get('point').invalid}" ><span>(*)</span>
                <div class="invalid-feedback" *ngIf="dataForm.get('point').touched && dataForm.get('point').invalid">
                  <small *ngIf="dataForm.get('point').errors.required" class="form-text showError">Enter your point </small>
                </div>
              </div>

            </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group ">
              <label >level</label>
              <input type="text" formControlName="level"  class="form-control" [ngClass]="{'is-invalid':dataForm.get('level').touched && dataForm.get('level').invalid}"
              ><span>(*)</span>
              <div class="invalid-feedback" *ngIf="dataForm.get('level').touched && dataForm.get('level').invalid">
                <small *ngIf="dataForm.get('level').errors.required" class="form-text showError">Enter your level </small>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group ">
              <label >Time/m</label>
              <input type="text" formControlName="timeallow"  class="form-control"
              [ngClass]="{'is-invalid':dataForm.get('timeallow').touched && dataForm.get('timeallow').invalid}"
              ><span>(*)</span>
              <div class="invalid-feedback" *ngIf="dataForm.get('timeallow').touched && dataForm.get('timeallow').invalid">
                <small *ngIf="dataForm.get('timeallow').errors.required" class="form-text showError">Enter your timeallow </small>
              </div>
            </div>
          </div>
      </div>


        <button type="submit" class="btn btn-primary" [disabled]="dataForm.status==='INVALID'" ><i class="eva eva-save-outline
          " ></i> Save  </button>
        <button type="submit" routerLink="/admin/questions" class="btn btn-danger ml-1"><i class="eva eva-close-circle-outline
          "></i> Cancel</button>
      </div>



    </form>
  </div>
 </div>

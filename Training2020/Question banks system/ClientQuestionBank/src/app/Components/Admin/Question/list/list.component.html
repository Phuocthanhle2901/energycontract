<div class="mod-questions">


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Delete question</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this question
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="deleteQuestion()">Yes</button>
      </div>
    </div>
  </div>
</div>
  <div class="d-flex justify-content-between">
    <div>
      <button routerLink="/admin/createQuestion" type="button" class="btn btn-primary">Create Question</button>
      <!-- <a for="txtFileUpload" class="btn ml-2 btn-success"><i class="eva eva-cloud-download-outline   "></i> Upload</a>
      <input type="file" class="d-none" name="Upload CSV" id="txtFileUpload"
        accept=".csv" />
      <button type="button" class=" ml-1 btn btn-primary"><i class="eva eva-cloud-upload-outline    "></i> Export
      </button> -->
    </div>
    <form   class="d-flex flex-wrap" [formGroup]="dataform" (ngSubmit)="SearchByName(dataform.value)">
      <input type="text" formControlName="search" class=" w-75 form-control small"  placeholder="Full name..."
          />
          <button class="btn btn-primary" type="submit">
              <i class="eva eva-search-outline"></i>
          </button>
        </form>
    <ul class="navbar-nav">
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <span class="mr-2 d-none d-lg-inline text-gray-600 small">Themes <i
              class="eva eva-arrow-ios-downward-outline "></i></span>
        </a>
        <!-- Dropdown - Question Themes -->
        <div class="dropdown-menu shadow " aria-labelledby="userDropdown">
          <div class="dropdown-item" *ngFor="let item of themes">
            <a (click)="getThemeQuestions(item,0); getPageCount()">
              <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
              {{item}} Questions
            </a>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <hr>

  <div class="mod-question-body-content d-flex flex-column">
    <div class="detail-content" *ngFor="let item of questions; index as q">
      <div class="form-check">
        <table *ngIf="item.status">
          <tr>
            <th><b>{{q+1 +  5*currentPage}}. {{item.question}}</b></th>
          </tr>
          <tr>
            <td><b>Theme:</b> {{item.themeName}}</td>
          </tr>
          <tr *ngFor="let a of item.answer; index as i">
            <td>
              {{i+1}}. {{a}} 
              <i *ngIf='item.trueAnswer.includes(a)' class="eva eva-checkmark-outline text-success"></i>
            </td>
          </tr>
          <tr>
            <td><b>Level:</b> {{item.level}}</td>
          </tr>
          <tr>
            <td><b>Points:</b> {{item.point}}</td>
          </tr>
          <tr>
            <td><b>Time Allowed:</b> {{item.timeallow}} (seconds)</td>
          </tr>
        </table>
      </div>
      <!-- routerLink='/admin/updateQuestion' -->
      <div class="detail-content-btn">
        <button type="button" class="btn btn-edt" (click)="getIdForEditQuestion(item.id)"><i
            class="eva eva-edit-outline"></i> </button>
        <button type="button" class="btn btn-delete" (click)="clickDelete(item.id)" data-toggle="modal" data-target="#exampleModal" ><i
            class="eva eva-trash-2-outline"></i> </button>

      </div>

    </div>
    <!-- Theme Pagination -->
    <nav *ngIf='themed==true' aria-label=" navigation" class=" pagination-page">
      <ul class="pagination">
        <li class="page-item" *ngIf="currentPage>0">
          <a class="page-link" (click)="getThemeQuestions(currentTheme,0)"><i
              class="eva eva-arrowhead-left-outline"></i></a>
        </li>
        <li class="page-item" *ngIf="currentPage>0">
          <a class="page-link" (click)="getThemeQuestions(currentTheme,currentPage-1)"><i
              class="eva eva-arrow-ios-back-outline"></i></a>
        </li>
        <li class="page-item" *ngFor="let link of ' '.repeat(pageCount).split(''); index as i">
          <a class="page-link" (click)="getThemeQuestions(currentTheme,i)">{{i+1}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage<pageCount-1">
          <a class="page-link" (click)="getThemeQuestions(currentTheme,currentPage+1)"><i
              class="eva eva-arrow-ios-forward-outline"></i></a>
        </li>
        <li class="page-item" *ngIf="currentPage<pageCount-1">
          <a class="page-link" (click)="getThemeQuestions(currentTheme,pageCount-1)"><i
              class="eva eva-arrowhead-right-outline"></i></a>
        </li>
      </ul>
    </nav>
    <!-- Total Pagination -->
    <nav *ngIf='themed==false' aria-label=" navigation" class=" pagination-page">
      <ul class="pagination">
        <li class="page-item" *ngIf="currentPage>0">
          <a class="page-link" (click)="getAllQuestion(0)"><i
              class="eva eva-arrowhead-left-outline"></i></a>
        </li>
        <li class="page-item" *ngIf="currentPage>0">
          <a class="page-link" (click)="getAllQuestion(currentPage-1)"><i
              class="eva eva-arrow-ios-back-outline"></i></a>
        </li>
        <li class="page-item" *ngFor="let link of ' '.repeat(pageCount).split(''); index as i">
          <a class="page-link" (click)="getAllQuestion(i)">{{i+1}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage<pageCount-1">
          <a class="page-link" (click)="getAllQuestion(currentPage+1)"><i
              class="eva eva-arrow-ios-forward-outline"></i></a>
        </li>
        <li class="page-item" *ngIf="currentPage<pageCount-1">
          <a class="page-link" (click)="getAllQuestion(pageCount-1)"><i
              class="eva eva-arrowhead-right-outline"></i></a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<router-outlet></router-outlet>
